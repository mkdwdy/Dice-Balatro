# í”¼ì³ ìƒì„¸: ì£¼ì‚¬ìœ„ ì†ì„± ì‹œìŠ¤í…œ

## ğŸ“‹ ê°œìš”

ì£¼ì‚¬ìœ„ëŠ” **4ê°€ì§€ í•µì‹¬ ìš”ì†Œ**ë¡œ êµ¬ì„±ë˜ë©°, ê° ìš”ì†Œê°€ ì£¼ì‚¬ìœ„ì˜ ê°€ì¹˜ì™€ íš¨ê³¼ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

---

## ğŸ² ì£¼ì‚¬ìœ„ ì†ì„± 4ìš”ì†Œ

### 1. ë°°ê²½ìƒ‰/íƒ€ì… (Material Type)

ì£¼ì‚¬ìœ„ì˜ **ë°°ê²½ìƒ‰ê³¼ ì¬ì§ˆ**ì„ ê²°ì •í•˜ë©°, íŠ¹ìˆ˜ ëŠ¥ë ¥ì„ ë¶€ì—¬í•©ë‹ˆë‹¤.

| íƒ€ì… | ë°°ê²½ìƒ‰ | íš¨ê³¼ | ê°€ì¹˜ ë³´ë„ˆìŠ¤ |
|------|--------|------|------------|
| Normal | í°ìƒ‰ | ê¸°ë³¸, íŠ¹ìˆ˜ íš¨ê³¼ ì—†ìŒ | +0 |
| Glass | íˆ¬ëª…/ë°˜íˆ¬ëª… | Mult Ã—2, íŒŒê´´ í™•ë¥  20% | +5 |
| Stone | íšŒìƒ‰ ëŒ | Chips +50, ì¡±ë³´ ë¯¸í¬í•¨ | +3 |
| Steel | ì€ìƒ‰ ê¸ˆì† | íŒŒê´´ ë¶ˆê°€, Chips +20 | +4 |
| Gold | ê¸ˆìƒ‰ | Mult +5, ê³¨ë“œ +$2 ìƒì„± | +8 |
| Wild | ë¬´ì§€ê°œìƒ‰ | ëª¨ë“  ìŠˆíŠ¸ë¡œ ê°„ì£¼ | +6 |

### 2. Foil (Edition)

ì£¼ì‚¬ìœ„ ìœ„ì— ì”Œì›Œì§€ëŠ” **íŠ¹ìˆ˜ ì½”íŒ…**ìœ¼ë¡œ, ì¶”ê°€ íš¨ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

| Foil | ì‹œê°ì  íš¨ê³¼ | íš¨ê³¼ | ê°€ì¹˜ ë³´ë„ˆìŠ¤ |
|------|------------|------|------------|
| ì—†ìŒ | ê¸°ë³¸ | íŠ¹ìˆ˜ íš¨ê³¼ ì—†ìŒ | +0 |
| Foil | ë°˜ì‚¬ íš¨ê³¼ | Chips +10% | +3 |
| Holographic | ë¬´ì§€ê°œ ë¹› | Mult +10% | +5 |
| Polychrome | ìƒ‰ìƒ ë³€í™” | Mult Ã—1.5 | +8 |

### 3. ë©´ì˜ ìˆ«ì (Face Values)

ê° ì£¼ì‚¬ìœ„ëŠ” **6ê°œ ë©´**ì„ ê°€ì§€ë©°, ê° ë©´ì˜ ê°’ì€ 1-6ì…ë‹ˆë‹¤.

- **ê¸°ë³¸ êµ¬ì„±**: 1, 2, 3, 4, 5, 6 (ìˆœì°¨)
- **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ì¸ì±ˆíŠ¸ë¡œ íŠ¹ì • ê°’ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥
- **íŠ¹ìˆ˜ êµ¬ì„±**: ëª¨ë“  ë©´ì´ ê°™ì€ ê°’ (ì˜ˆ: ëª¨ë‘ 6) â†’ ë†’ì€ ê°€ì¹˜

### 4. ë©´ì˜ ë¬¸ì–‘ (Face Suits)

ê° ë©´ì˜ **ìŠˆíŠ¸**ë¥¼ ê²°ì •í•˜ë©°, ì¡±ë³´ ê³„ì‚°ì— ì˜í–¥ì„ ì¤ë‹ˆë‹¤.

- **ìŠˆíŠ¸ ì¢…ë¥˜**: None, â™  (Spade), â™¦ (Diamond), â™¥ (Heart), â™£ (Club)
- **ê¸°ë³¸ êµ¬ì„±**: ì£¼ì‚¬ìœ„ë³„ë¡œ ê³ ì • ìŠˆíŠ¸ (ì˜ˆ: ì²« ë²ˆì§¸ ì£¼ì‚¬ìœ„ëŠ” â™ )
- **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ì¸ì±ˆíŠ¸ë¡œ ìŠˆíŠ¸ ë³€ê²½ ê°€ëŠ¥
- **íŠ¹ìˆ˜ êµ¬ì„±**: ëª¨ë“  ë©´ì´ ê°™ì€ ìŠˆíŠ¸ â†’ Flush ë¹Œë“œìš©

---

## ğŸ’° ì£¼ì‚¬ìœ„ ê°€ì¹˜ ê³„ì‚°

```typescript
function calculateDiceValue(dice: DeckDice): number {
  let baseValue = 10; // ê¸°ë³¸ ì£¼ì‚¬ìœ„ ê°€ì¹˜
  
  // 1. íƒ€ì… ë³´ë„ˆìŠ¤
  const typeBonus = {
    'normal': 0,
    'glass': 5,
    'stone': 3,
    'steel': 4,
    'gold': 8,
    'wild': 6,
  }[dice.materialType] || 0;
  
  // 2. Foil ë³´ë„ˆìŠ¤
  const foilBonus = {
    'none': 0,
    null: 0,
    'foil': 3,
    'holographic': 5,
    'polychrome': 8,
  }[dice.foil || 'none'] || 0;
  
  // 3. ë©´ êµ¬ì„± ë³´ë„ˆìŠ¤
  const faceBonus = calculateFaceBonus(dice.faces);
  // ì˜ˆ: ëª¨ë“  ë©´ì´ ê°™ì€ ê°’ â†’ +5
  // ì˜ˆ: ëª¨ë“  ë©´ì´ ê°™ì€ ìŠˆíŠ¸ â†’ +3
  
  // 4. íŠ¹ìˆ˜ íš¨ê³¼ ë³´ë„ˆìŠ¤
  const specialBonus = calculateSpecialBonus(dice);
  
  return baseValue + typeBonus + foilBonus + faceBonus + specialBonus;
}
```

---

## ğŸ® ì£¼ì‚¬ìœ„ ì¶”ê°€ ì‹œ ì†ì„± ê²°ì •

### ì¡°ì»¤ íš¨ê³¼ë¡œ ì¶”ê°€

#### "Extra Dice" ì¡°ì»¤
```typescript
const rule: DiceGenerationRule = {
  defaultMaterialType: 'normal',
  defaultFoil: null,
  defaultSuit: getRandomSuit(), // ëœë¤ ìŠˆíŠ¸
  defaultFaces: createDefaultFaces(getRandomSuit()), // ê¸°ë³¸ ê°’ (1-6)
  randomizeSuit: true,
};
```

#### "Dice Collector" ì¡°ì»¤
```typescript
const rule: DiceGenerationRule = {
  cloneFrom: getRandomDiceId(),
  cloneProperties: ['materialType', 'foil', 'faces'], // ëª¨ë“  ì†ì„± ë³µì œ
};
```

### ì†Œëª¨í’ˆìœ¼ë¡œ ì¶”ê°€

#### "Dice Summon" íƒ€ë¡œ ì¹´ë“œ
```typescript
const rule: DiceGenerationRule = {
  defaultMaterialType: 'normal',
  defaultFoil: null,
  defaultSuit: playerSelectedSuit || getRandomSuit(),
  defaultFaces: createDefaultFaces(playerSelectedSuit || getRandomSuit()),
  allowCustomization: true,
  customizationOptions: {
    suits: ['â™ ', 'â™¦', 'â™¥', 'â™£'], // ìŠˆíŠ¸ ì„ íƒ ê°€ëŠ¥
  },
};
```

#### "Premium Dice Pack" ì†Œëª¨í’ˆ
```typescript
const rule: DiceGenerationRule = {
  defaultMaterialType: playerSelectedType || 'normal',
  defaultFoil: playerSelectedFoil || null,
  defaultSuit: playerSelectedSuit || getRandomSuit(),
  defaultFaces: playerCustomizedFaces || createDefaultFaces(playerSelectedSuit),
  allowCustomization: true,
  customizationOptions: {
    materialTypes: ['normal', 'glass', 'stone', 'steel', 'gold', 'wild'],
    foils: ['none', 'foil', 'holographic', 'polychrome'],
    suits: ['None', 'â™ ', 'â™¦', 'â™¥', 'â™£'],
  },
};
```

### ìƒì  êµ¬ë§¤ ì‹œ

#### ê¸°ë³¸ ì£¼ì‚¬ìœ„ ($5-10)
- íƒ€ì…: Normal
- Foil: ì—†ìŒ
- ìŠˆíŠ¸: ëœë¤ ë˜ëŠ” ì„ íƒ
- ë©´ ê°’: ê¸°ë³¸ (1-6)

#### ê³ ê¸‰ ì£¼ì‚¬ìœ„ ($15-25)
- íƒ€ì…: ì„ íƒ ê°€ëŠ¥
- Foil: ì„ íƒ ê°€ëŠ¥ (ì¶”ê°€ ë¹„ìš©)
- ìŠˆíŠ¸: ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥
- ë©´ ê°’: ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥

#### í”„ë¦¬ë¯¸ì—„ ì£¼ì‚¬ìœ„ ($30+)
- íƒ€ì…: ëª¨ë“  íƒ€ì… ì„ íƒ ê°€ëŠ¥
- Foil: ëª¨ë“  Edition ì„ íƒ ê°€ëŠ¥
- ìŠˆíŠ¸: ì™„ì „ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ë©´ ê°’: ì™„ì „ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- íŠ¹ìˆ˜ íš¨ê³¼: ì¶”ê°€ ëŠ¥ë ¥ ë¶€ì—¬ ê°€ëŠ¥

---

## ğŸ”§ ë°ì´í„° êµ¬ì¡°

```typescript
// ì£¼ì‚¬ìœ„ ì†ì„± ì™„ì „ ì •ì˜
export const deckDiceSchema = z.object({
  id: z.number(),
  
  // ë©´ ì •ë³´ (6ê°œ)
  faces: z.array(z.object({
    value: z.number().min(1).max(6),
    suit: z.enum(['None', 'â™ ', 'â™¦', 'â™¥', 'â™£']),
  })).length(6),
  
  currentTopFace: z.number().min(0).max(5),
  
  // 1. ë°°ê²½ìƒ‰/íƒ€ì…
  materialType: z.enum(['normal', 'glass', 'stone', 'steel', 'gold', 'wild']).default('normal'),
  
  // 2. Foil (Edition)
  foil: z.enum(['none', 'foil', 'holographic', 'polychrome']).nullable().default(null),
  
  // ê¸°íƒ€ ì†ì„±
  isTemporary: z.boolean().optional(),
  durability: z.number().optional(),
  destroyChance: z.number().optional(),
});
```

---

## ğŸ“Š ì˜ˆì‹œ: ë‹¤ì–‘í•œ ì£¼ì‚¬ìœ„

### ì˜ˆì‹œ 1: ê¸°ë³¸ ì£¼ì‚¬ìœ„
```typescript
{
  id: 0,
  materialType: 'normal',
  foil: null,
  faces: [
    { value: 1, suit: 'â™ ' },
    { value: 2, suit: 'â™ ' },
    { value: 3, suit: 'â™ ' },
    { value: 4, suit: 'â™ ' },
    { value: 5, suit: 'â™ ' },
    { value: 6, suit: 'â™ ' },
  ],
  currentTopFace: 0,
}
```

### ì˜ˆì‹œ 2: Glass + Polychrome ì£¼ì‚¬ìœ„
```typescript
{
  id: 1,
  materialType: 'glass',
  foil: 'polychrome',
  faces: [
    { value: 1, suit: 'â™¥' },
    { value: 2, suit: 'â™¥' },
    { value: 3, suit: 'â™¥' },
    { value: 4, suit: 'â™¥' },
    { value: 5, suit: 'â™¥' },
    { value: 6, suit: 'â™¥' },
  ],
  currentTopFace: 0,
}
// íš¨ê³¼: Mult Ã—2 (Glass) Ã— 1.5 (Polychrome) = Mult Ã—3
```

### ì˜ˆì‹œ 3: Wild íƒ€ì… ì£¼ì‚¬ìœ„
```typescript
{
  id: 2,
  materialType: 'wild',
  foil: 'holographic',
  faces: [
    { value: 6, suit: 'â™ ' },
    { value: 6, suit: 'â™¦' },
    { value: 6, suit: 'â™¥' },
    { value: 6, suit: 'â™£' },
    { value: 6, suit: 'None' },
    { value: 6, suit: 'None' },
  ],
  currentTopFace: 0,
}
// íš¨ê³¼: ëª¨ë“  ìŠˆíŠ¸ë¡œ ê°„ì£¼ (Flush ë¹Œë“œìš©), Mult +10% (Holographic)
```

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ì£¼ì‚¬ìœ„ ì†ì„± 4ìš”ì†Œ ì •ì˜
- [x] ê° ìš”ì†Œì˜ íš¨ê³¼ ë° ê°€ì¹˜ ëª…ì‹œ
- [x] ì£¼ì‚¬ìœ„ ìƒì„± ê·œì¹™ ì •ì˜
- [x] ê°€ì¹˜ ê³„ì‚° ì‹œìŠ¤í…œ ì„¤ê³„
- [ ] ë°ì´í„° êµ¬ì¡° í™•ì¥
- [ ] ìƒì„± í•¨ìˆ˜ êµ¬í˜„
- [ ] UI í‘œì‹œ ì‹œìŠ¤í…œ êµ¬í˜„




# 피쳐 개발 계획 및 순서

## 📋 피쳐 리스트 점검

### ✅ 현재 구현 완료
1. 기본 주사위 시스템 (5개 고정)
2. 족보 시스템 (12종류)
3. 전투 시스템 (HP, 데미지)
4. 상점 시스템 (기본 구조)
5. 주사위 덱 시스템
6. 족보 업그레이드 기능 (행성 카드)
7. 주사위 인챈트 기능 (부분)

### ⚠️ 부분 구현
1. 조커 시스템 (데이터만, 효과 미적용)
2. 소모품 시스템 (데이터만, 사용 미구현)
3. 행성 카드 효과 적용 (데이터만)

### 🎯 개발 필요 피쳐 (8개)

| # | 피쳐명 | 중요도 | 복잡도 | 의존성 | 예상 기간 |
|---|--------|--------|--------|--------|----------|
| 1 | 주사위 순차 발동 시스템 | ⭐⭐⭐⭐⭐ | 높음 | 없음 | 2-3주 |
| 2 | 조커 효과 적용 시스템 | ⭐⭐⭐⭐⭐ | 중간 | 순차 발동 | 2-3주 |
| 3 | 주사위 추가/제거 시스템 | ⭐⭐⭐⭐⭐ | 중간 | 없음 | 2주 |
| 4 | 주사위 타입/텍스처 시스템 | ⭐⭐⭐⭐ | 높음 | 없음 | 3-4주 |
| 5 | 상점 주사위 판매 시스템 | ⭐⭐⭐⭐ | 중간 | 추가/제거, 타입 | 2-3주 |
| 6 | Foil 인챈트 시스템 | ⭐⭐⭐ | 낮음 | 없음 | 1-2주 |
| 7 | 족보 퀘스트 시스템 | ⭐⭐⭐ | 중간 | 없음 | 2주 |
| 8 | 소모품 커스터마이징 시스템 | ⭐⭐⭐ | 중간 | 소모품 시스템 | 1-2주 |

---

## 🎯 최적 개발 순서 (의존성 고려)

### Phase 1: 핵심 인프라 (4-5주)

#### 1-1. 주사위 순차 발동 시스템 ⭐⭐⭐⭐⭐
**우선순위**: 최우선  
**복잡도**: 높음  
**의존성**: 없음  
**예상 기간**: 2-3주

**이유**: 
- 발라트로의 핵심 메커니즘
- 다른 모든 시스템의 기반
- 조커 효과 적용의 전제 조건

**작업 항목**:
- [ ] 순차 발동 로직 구현 (서버)
- [ ] 주사위 발동 애니메이션 (클라이언트)
- [ ] 발동 순서 UI 표시
- [ ] 발동 속도 조절 옵션

**테스트 체크리스트**:
- [ ] 주사위가 왼쪽부터 순차 발동되는가?
- [ ] 애니메이션이 자연스러운가?
- [ ] 발동 속도가 적절한가?

---

#### 1-2. 조커 효과 적용 시스템 ⭐⭐⭐⭐⭐
**우선순위**: 최우선  
**복잡도**: 중간  
**의존성**: 순차 발동 시스템  
**예상 기간**: 2-3주

**이유**:
- 게임의 핵심 메커니즘
- 순차 발동과 밀접한 연관
- 빌드 시스템의 기반

**작업 항목**:
- [ ] 조커 효과 계산 엔진 구현
- [ ] 조커 타입별 효과 구현 (10-20개)
- [ ] 순차 적용 로직 구현
- [ ] 재발동 시스템 구현
- [ ] 데미지 계산 통합
- [ ] 조커 UI 표시

**테스트 체크리스트**:
- [ ] 조커 효과가 올바르게 적용되는가?
- [ ] 조커 순서가 효과에 영향을 주는가?
- [ ] 재발동이 정상 작동하는가?
- [ ] 데미지 계산이 정확한가?

---

### Phase 2: 확장 시스템 (5-6주)

#### 2-1. 주사위 추가/제거 시스템 ⭐⭐⭐⭐⭐
**우선순위**: 높음  
**복잡도**: 중간  
**의존성**: 없음 (순차 발동과 병렬 가능)  
**예상 기간**: 2주

**이유**:
- 전략 깊이 확보
- 조커 효과와 독립적으로 개발 가능
- 다른 시스템의 기반

**작업 항목**:
- [ ] 데이터 구조 확장 (materialType, foil 등)
- [ ] 주사위 생성 함수 구현 (랜덤화)
- [ ] 주사위 추가 API 구현
- [ ] 주사위 제거 API 구현
- [ ] 다중 주사위 UI (6-8개)
- [ ] 조커/소모품 연동

**테스트 체크리스트**:
- [ ] 주사위가 올바르게 추가되는가?
- [ ] 주사위가 올바르게 제거되는가?
- [ ] 다중 주사위 UI가 정상 작동하는가?
- [ ] 랜덤 속성이 올바르게 생성되는가?

---

#### 2-2. 주사위 타입/텍스처 시스템 ⭐⭐⭐⭐
**우선순위**: 높음  
**복잡도**: 높음  
**의존성**: 주사위 추가 시스템  
**예상 기간**: 3-4주

**이유**:
- 전략 다양성 확보
- 시각적 다양성 제공
- 주사위 추가 시스템과 연계

**작업 항목**:
- [ ] 타입 데이터 구조 확장
- [ ] 타입별 효과 로직 구현
- [ ] 텍스처 리소스 준비 (6종)
- [ ] 3D 모델에 텍스처 적용
- [ ] 타입별 특수 효과 구현
- [ ] UI에 타입 표시

**테스트 체크리스트**:
- [ ] 각 타입의 효과가 올바른가?
- [ ] 텍스처가 올바르게 표시되는가?
- [ ] 타입별 특수 효과가 작동하는가?

---

#### 2-3. 상점 주사위 판매 시스템 ⭐⭐⭐⭐
**우선순위**: 중간  
**복잡도**: 중간  
**의존성**: 주사위 추가/제거, 타입 시스템  
**예상 기간**: 2-3주

**이유**:
- 경제 시스템 완성
- 주사위 추가/타입 시스템 활용
- 게임 진행감 제공

**작업 항목**:
- [ ] 상점에 주사위 판매 추가
- [ ] 주사위 가격 시스템
- [ ] 내구도 시스템 구현
- [ ] 파괴 확률 시스템 구현
- [ ] 인챈트 업그레이드 시스템

**테스트 체크리스트**:
- [ ] 주사위 구매가 정상 작동하는가?
- [ ] 내구도가 올바르게 감소하는가?
- [ ] 파괴 확률이 올바른가?
- [ ] 인챈트 업그레이드가 작동하는가?

---

### Phase 3: 보강 시스템 (4-5주)

#### 3-1. 소모품 시스템 완성 ⭐⭐⭐
**우선순위**: 중간  
**복잡도**: 중간  
**의존성**: 없음  
**예상 기간**: 1주

**이유**:
- 기존 소모품 시스템 완성
- 커스터마이징 시스템의 기반

**작업 항목**:
- [ ] 소모품 사용 API 구현
- [ ] 소모품 사용 UI 구현
- [ ] 타로 카드 효과 구현
- [ ] 행성 카드 효과 적용

**테스트 체크리스트**:
- [ ] 소모품이 올바르게 사용되는가?
- [ ] 효과가 정확히 적용되는가?

---

#### 3-2. 소모품 커스터마이징 시스템 ⭐⭐⭐
**우선순위**: 중간  
**복잡도**: 중간  
**의존성**: 소모품 시스템  
**예상 기간**: 1-2주

**이유**:
- 소모품 활용도 증가
- 전략적 선택 추가

**작업 항목**:
- [ ] 타입 변경 소모품 구현
- [ ] Foil 추가 소모품 구현
- [ ] 슈트 변경 소모품 구현
- [ ] 면 값 변경 소모품 구현
- [ ] 커스터마이징 UI 구현

**테스트 체크리스트**:
- [ ] 각 커스터마이징이 올바르게 작동하는가?
- [ ] UI가 직관적인가?

---

#### 3-3. Foil 인챈트 시스템 ⭐⭐⭐
**우선순위**: 중간  
**복잡도**: 낮음  
**의존성**: 없음  
**예상 기간**: 1-2주

**이유**:
- 커스터마이징 재미 추가
- 시각적 피드백 향상

**작업 항목**:
- [ ] Foil 데이터 구조 추가
- [ ] Foil 시각적 효과 구현
- [ ] Foil 효과 로직 구현
- [ ] 인챈트 UI 구현

**테스트 체크리스트**:
- [ ] Foil 효과가 올바르게 적용되는가?
- [ ] 시각적 효과가 자연스러운가?

---

#### 3-4. 족보 퀘스트 시스템 ⭐⭐⭐
**우선순위**: 낮음  
**복잡도**: 중간  
**의존성**: 없음  
**예상 기간**: 2주

**이유**:
- 장기 목표 제공
- 반복 플레이 동기 부여

**작업 항목**:
- [ ] 퀘스트 데이터 구조 설계
- [ ] 퀘스트 진행 추적 시스템
- [ ] 보상/패널티 로직 구현
- [ ] 퀘스트 UI 구현
- [ ] 상점 연동

**테스트 체크리스트**:
- [ ] 퀘스트가 올바르게 진행되는가?
- [ ] 보상/패널티가 정확한가?

---

## 🧪 테스트 전략

### 각 피쳐 개발 후 테스트 프로세스

#### 1. 단위 테스트
- 핵심 로직 함수별 테스트
- 엣지 케이스 테스트
- 에러 핸들링 테스트

#### 2. 통합 테스트
- API 엔드포인트 테스트
- 데이터베이스 연동 테스트
- 클라이언트-서버 통신 테스트

#### 3. 게임플레이 테스트
- 실제 게임 플레이
- 다양한 시나리오 테스트
- 밸런싱 확인

#### 4. 자동화 테스트
- E2E 테스트 시나리오 작성
- 회귀 테스트 자동화

### 테스트 체크리스트 템플릿

각 피쳐마다 다음을 확인:
- [ ] 기능이 설계대로 작동하는가?
- [ ] 에러가 발생하지 않는가?
- [ ] UI/UX가 자연스러운가?
- [ ] 성능 이슈가 없는가?
- [ ] 밸런싱이 적절한가?
- [ ] 발라트로와의 유사성이 유지되는가?

---

## 🛠️ 개발 접근법

### 추천 접근법: 점진적 개발 + 테스트 주도

#### 1. 작은 단위로 나누기
각 피쳐를 **최소 기능 단위(MVP)**로 나누어 개발:
- 예: 순차 발동 → 기본 발동 → 조커 적용 → 재발동 → 애니메이션

#### 2. 단계별 검증
각 단계마다:
1. 코드 작성
2. 단위 테스트
3. 통합 테스트
4. 게임플레이 테스트
5. 버그 수정
6. 다음 단계 진행

#### 3. 모킹 활용
의존성이 있는 피쳐는 모킹으로 먼저 개발:
- 예: 조커 효과 시스템 개발 시 주사위 타입은 모킹

#### 4. 리팩토링 주기
각 피쳐 완성 후:
- 코드 리뷰
- 리팩토링
- 문서 업데이트

---

## 💻 MAX 모드 사용 여부 판단

### MAX 모드가 적합한 피쳐

#### ✅ MAX 모드 권장 (복잡한 피쳐)
1. **주사위 순차 발동 시스템**
   - 복잡한 애니메이션 로직
   - 상태 관리 복잡도 높음
   - 여러 파일 동시 수정 필요

2. **조커 효과 적용 시스템**
   - 복잡한 효과 계산 로직
   - 많은 조커 타입 구현
   - 순차 적용 로직 복잡

3. **주사위 타입/텍스처 시스템**
   - 3D 모델 수정
   - 텍스처 리소스 관리
   - 타입별 효과 로직 복잡

#### ⚠️ MAX 모드 선택적 (중간 복잡도)
4. **주사위 추가/제거 시스템**
   - 데이터 구조 확장
   - UI 변경 필요
   - 복잡도 중간

5. **상점 주사위 판매 시스템**
   - 상점 UI 확장
   - 가격 시스템 구현
   - 복잡도 중간

#### ❌ MAX 모드 불필요 (단순한 피쳐)
6. **Foil 인챈트 시스템**
   - 데이터 구조 추가
   - 시각적 효과만
   - 복잡도 낮음

7. **족보 퀘스트 시스템**
   - 데이터 구조 설계
   - 진행 추적 로직
   - 복잡도 중간

8. **소모품 커스터마이징 시스템**
   - 소모품 효과 확장
   - UI 추가
   - 복잡도 중간

### 권장 전략

**Phase 1 (핵심 인프라)**: MAX 모드 사용 권장
- 순차 발동: MAX 모드 필수
- 조커 효과: MAX 모드 권장

**Phase 2 (확장 시스템)**: 상황에 따라
- 주사위 추가/제거: MAX 모드 선택적
- 주사위 타입: MAX 모드 권장
- 상점 주사위: MAX 모드 불필요

**Phase 3 (보강 시스템)**: MAX 모드 불필요
- 대부분 단순한 확장 작업

---

## 📅 전체 일정 요약

### Phase 1: 핵심 인프라 (4-5주)
- 주사위 순차 발동 (2-3주) - MAX 모드 필수
- 조커 효과 적용 (2-3주) - MAX 모드 권장

### Phase 2: 확장 시스템 (5-6주)
- 주사위 추가/제거 (2주) - MAX 모드 선택적
- 주사위 타입/텍스처 (3-4주) - MAX 모드 권장
- 상점 주사위 판매 (2-3주) - MAX 모드 불필요

### Phase 3: 보강 시스템 (4-5주)
- 소모품 시스템 완성 (1주)
- 소모품 커스터마이징 (1-2주)
- Foil 인챈트 (1-2주)
- 족보 퀘스트 (2주)

**총 예상 기간**: 13-16주 (약 3-4개월)

---

## ✅ 다음 단계

1. **개발 순서 컨펌**: 위 순서 확인 및 수정
2. **첫 번째 피쳐 시작**: 주사위 순차 발동 시스템
3. **테스트 환경 구축**: 자동화 테스트 설정
4. **문서화**: 각 피쳐 개발 시 문서 업데이트

---

## 🎯 성공 기준

각 피쳐 완성 시:
- ✅ 기능이 설계대로 작동
- ✅ 테스트 통과
- ✅ 게임플레이 테스트 통과
- ✅ 문서 업데이트 완료
- ✅ 다음 피쳐로 진행 가능




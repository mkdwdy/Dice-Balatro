# ν”Όμ³ κ°λ° ν…μ¤νΈ μ „λµ

## π“‹ κ°μ”

κ° ν”Όμ³ κ°λ° ν›„ μλ™μΌλ΅ κ²μ„μ„ ν…μ¤νΈν•μ—¬ μ¬λ°”λ¥΄κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•λ” μ „λµμ…λ‹λ‹¤.

---

## π§ ν…μ¤νΈ λ λ²¨

### Level 1: λ‹¨μ„ ν…μ¤νΈ (Unit Test)
**λ©μ **: κ°λ³„ ν•¨μ/λ΅μ§ κ²€μ¦

**λ€μƒ**:
- κ²μ„ λ΅μ§ ν•¨μ (λ°λ―Έμ§€ κ³„μ‚°, μ΅±λ³΄ μΈμ‹ λ“±)
- μ ν‹Έλ¦¬ν‹° ν•¨μ
- λ°μ΄ν„° λ³€ν™ ν•¨μ

**λ„κµ¬**: Vitest

**μμ‹**:
```typescript
// shared/gameLogic.test.ts
describe('μ£Όμ‚¬μ„ μμ°¨ λ°λ™', () => {
  it('μ£Όμ‚¬μ„κ°€ μ™Όμ½λ¶€ν„° μμ°¨ λ°λ™λμ–΄μ•Ό ν•¨', () => {
    const dices = [dice1, dice2, dice3];
    const result = activateDicesSequentially(dices);
    expect(result.order).toEqual([0, 1, 2]);
  });
});
```

---

### Level 2: ν†µν•© ν…μ¤νΈ (Integration Test)
**λ©μ **: API μ—”λ“ν¬μΈνΈ λ° λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™ κ²€μ¦

**λ€μƒ**:
- API μ—”λ“ν¬μΈνΈ
- λ°μ΄ν„°λ² μ΄μ¤ μΏΌλ¦¬
- μ„λ²„-ν΄λΌμ΄μ–ΈνΈ ν†µμ‹ 

**λ„κµ¬**: Vitest + Supertest

**μμ‹**:
```typescript
// server/__integration__/dice-addition.test.ts
describe('μ£Όμ‚¬μ„ μ¶”κ°€ API', () => {
  it('μ£Όμ‚¬μ„κ°€ μ¬λ°”λ¥΄κ² μ¶”κ°€λμ–΄μ•Ό ν•¨', async () => {
    const response = await request(app)
      .post('/api/games/123/dice/add')
      .send({ generationRule: { type: 'random' } });
    
    expect(response.status).toBe(200);
    expect(response.body.diceDeck.length).toBe(6); // 5κ° β†’ 6κ°
  });
});
```

---

### Level 3: E2E ν…μ¤νΈ (End-to-End Test)
**λ©μ **: μ‹¤μ  κ²μ„ν”λ μ΄ μ‹λ‚λ¦¬μ¤ κ²€μ¦

**λ€μƒ**:
- μ „μ²΄ κ²μ„ ν”λ΅μ°
- μ‚¬μ©μ μ‹λ‚λ¦¬μ¤
- λ³µμ΅ν• μƒνΈμ‘μ©

**λ„κµ¬**: Playwright λλ” Puppeteer

**μμ‹**:
```typescript
// tests/e2e/gameplay.test.ts
describe('κ²μ„ν”λ μ΄ E2E', () => {
  it('μ£Όμ‚¬μ„ μμ°¨ λ°λ™μ΄ μ •μƒ μ‘λ™ν•΄μ•Ό ν•¨', async () => {
    // κ²μ„ μ‹μ‘
    await page.goto('/');
    await page.click('button:has-text("New Game")');
    
    // μ£Όμ‚¬μ„ κµ΄λ¦¬κΈ°
    await page.click('button:has-text("Roll")');
    await page.waitForSelector('.dice-locked', { timeout: 5000 });
    
    // μ£Όμ‚¬μ„ μ κΈ
    await page.click('.dice:nth-child(1)');
    await page.click('.dice:nth-child(2)');
    
    // ν•Έλ“ μ μ¶
    await page.click('button:has-text("Submit")');
    
    // μμ°¨ λ°λ™ ν™•μΈ
    await expect(page.locator('.dice-activating')).toBeVisible();
  });
});
```

---

### Level 4: κ²μ„ν”λ μ΄ ν…μ¤νΈ (Manual Test)
**λ©μ **: μ‹¤μ  ν”λ μ΄ κ²½ν— κ²€μ¦

**μ²΄ν¬λ¦¬μ¤νΈ**:
- [ ] κΈ°λ¥μ΄ μ§κ΄€μ μΌλ΅ μ‚¬μ© κ°€λ¥ν•κ°€?
- [ ] UI/UXκ°€ μμ—°μ¤λ¬μ΄κ°€?
- [ ] μ• λ‹λ©”μ΄μ…μ΄ λ¶€λ“λ¬μ΄κ°€?
- [ ] λ°Έλ°μ‹±μ΄ μ μ ν•κ°€?
- [ ] λ²„κ·Έκ°€ μ—†λ”κ°€?

---

## π”„ κ° ν”Όμ³λ³„ ν…μ¤νΈ κ³„ν

### ν”Όμ³ 1: μ£Όμ‚¬μ„ μμ°¨ λ°λ™ μ‹μ¤ν…

#### λ‹¨μ„ ν…μ¤νΈ
- [ ] `activateDicesSequentially()` ν•¨μ ν…μ¤νΈ
- [ ] λ°λ™ μμ„ κ²€μ¦
- [ ] μ—λ¬ ν•Έλ“¤λ§ ν…μ¤νΈ

#### ν†µν•© ν…μ¤νΈ
- [ ] `/api/games/:id/submit` μ—”λ“ν¬μΈνΈ ν…μ¤νΈ
- [ ] μμ°¨ λ°λ™ λ΅μ§ ν†µν•© ν…μ¤νΈ

#### E2E ν…μ¤νΈ
- [ ] μ‹¤μ  κ²μ„μ—μ„ μμ°¨ λ°λ™ ν™•μΈ
- [ ] μ• λ‹λ©”μ΄μ… ν™•μΈ
- [ ] λ°λ™ μ†λ„ ν™•μΈ

#### κ²μ„ν”λ μ΄ ν…μ¤νΈ
- [ ] λ‹¤μ–‘ν• μ΅±λ³΄λ΅ ν…μ¤νΈ
- [ ] λ°λ™ μ†λ„ μ΅°μ  ν…μ¤νΈ
- [ ] UI ν”Όλ“λ°± ν™•μΈ

---

### ν”Όμ³ 2: μ΅°μ»¤ ν¨κ³Ό μ μ© μ‹μ¤ν…

#### λ‹¨μ„ ν…μ¤νΈ
- [ ] κ° μ΅°μ»¤ ν¨κ³Ό ν•¨μ ν…μ¤νΈ
- [ ] ν¨κ³Ό κ³„μ‚° λ΅μ§ ν…μ¤νΈ
- [ ] μ¬λ°λ™ λ΅μ§ ν…μ¤νΈ

#### ν†µν•© ν…μ¤νΈ
- [ ] μ΅°μ»¤ ν¨κ³Ό μ μ© ν†µν•© ν…μ¤νΈ
- [ ] λ°λ―Έμ§€ κ³„μ‚° ν†µν•© ν…μ¤νΈ

#### E2E ν…μ¤νΈ
- [ ] μ΅°μ»¤ κµ¬λ§¤ β†’ ν¨κ³Ό μ μ© ν™•μΈ
- [ ] μ΅°μ»¤ μμ„ μν–¥ ν™•μΈ
- [ ] μ¬λ°λ™ ν™•μΈ

#### κ²μ„ν”λ μ΄ ν…μ¤νΈ
- [ ] λ‹¤μ–‘ν• μ΅°μ»¤ μ΅°ν•© ν…μ¤νΈ
- [ ] λ°Έλ°μ‹± ν™•μΈ
- [ ] λ°λ―Έμ§€ κ³„μ‚° μ •ν™•λ„ ν™•μΈ

---

### ν”Όμ³ 3: μ£Όμ‚¬μ„ μ¶”κ°€/μ κ±° μ‹μ¤ν…

#### λ‹¨μ„ ν…μ¤νΈ
- [ ] μ£Όμ‚¬μ„ μƒμ„± ν•¨μ ν…μ¤νΈ
- [ ] λλ¤ν™” λ΅μ§ ν…μ¤νΈ
- [ ] μ£Όμ‚¬μ„ μ κ±° λ΅μ§ ν…μ¤νΈ

#### ν†µν•© ν…μ¤νΈ
- [ ] μ£Όμ‚¬μ„ μ¶”κ°€ API ν…μ¤νΈ
- [ ] μ£Όμ‚¬μ„ μ κ±° API ν…μ¤νΈ
- [ ] λ‹¤μ¤‘ μ£Όμ‚¬μ„ κ΄€λ¦¬ ν…μ¤νΈ

#### E2E ν…μ¤νΈ
- [ ] μ΅°μ»¤λ΅ μ£Όμ‚¬μ„ μ¶”κ°€ ν™•μΈ
- [ ] μ†λ¨ν’μΌλ΅ μ£Όμ‚¬μ„ μ¶”κ°€ ν™•μΈ
- [ ] λ‹¤μ¤‘ μ£Όμ‚¬μ„ UI ν™•μΈ

#### κ²μ„ν”λ μ΄ ν…μ¤νΈ
- [ ] μ£Όμ‚¬μ„ 6-8κ° ν”λ μ΄ ν…μ¤νΈ
- [ ] λλ¤ μ†μ„± ν™•μΈ
- [ ] UI μ μ‘μ„± ν™•μΈ

---

## π¤– μλ™ν™” ν…μ¤νΈ μ„¤μ •

### ν…μ¤νΈ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ

```json
// package.json
{
  "scripts": {
    "test": "vitest",
    "test:unit": "vitest run --dir tests/unit",
    "test:integration": "vitest run --dir server/__integration__",
    "test:e2e": "playwright test",
    "test:all": "npm run test:unit && npm run test:integration && npm run test:e2e"
  }
}
```

### CI/CD ν†µν•©

κ° ν”Όμ³ κ°λ° ν›„:
1. μ½”λ“ μ»¤λ°‹
2. μλ™ ν…μ¤νΈ μ‹¤ν–‰
3. ν…μ¤νΈ μ‹¤ν¨ μ‹ μ•λ¦Ό
4. ν…μ¤νΈ ν†µκ³Ό μ‹ λ‹¤μ λ‹¨κ³„ μ§„ν–‰

---

## π“ ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€ λ©ν‘

- **λ‹¨μ„ ν…μ¤νΈ**: 80% μ΄μƒ
- **ν†µν•© ν…μ¤νΈ**: ν•µμ‹¬ API 100%
- **E2E ν…μ¤νΈ**: μ£Όμ” μ‹λ‚λ¦¬μ¤ 100%

---

## β… ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ ν…ν”λ¦Ώ

κ° ν”Όμ³ μ™„μ„± μ‹:

### κΈ°λ¥ ν…μ¤νΈ
- [ ] κΈ°λ³Έ κΈ°λ¥μ΄ μ‘λ™ν•λ”κ°€?
- [ ] μ—£μ§€ μΌ€μ΄μ¤κ°€ μ²λ¦¬λλ”κ°€?
- [ ] μ—λ¬κ°€ μ¬λ°”λ¥΄κ² μ²λ¦¬λλ”κ°€?

### ν†µν•© ν…μ¤νΈ
- [ ] APIκ°€ μ¬λ°”λ¥΄κ² μ‘λ™ν•λ”κ°€?
- [ ] λ°μ΄ν„°λ² μ΄μ¤ μ—°λ™μ΄ μ •μƒμΈκ°€?
- [ ] ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ ν†µμ‹ μ΄ μ •μƒμΈκ°€?

### UI/UX ν…μ¤νΈ
- [ ] UIκ°€ μ§κ΄€μ μΈκ°€?
- [ ] μ• λ‹λ©”μ΄μ…μ΄ μμ—°μ¤λ¬μ΄κ°€?
- [ ] ν”Όλ“λ°±μ΄ λ…ν™•ν•κ°€?

### μ„±λ¥ ν…μ¤νΈ
- [ ] μ„±λ¥ μ΄μκ°€ μ—†λ”κ°€?
- [ ] λ©”λ¨λ¦¬ λ„μκ°€ μ—†λ”κ°€?

### λ°Έλ°μ‹± ν…μ¤νΈ
- [ ] κ²μ„ λ°Έλ°μ¤κ°€ μ μ ν•κ°€?
- [ ] λ°λΌνΈλ΅μ™€ μ μ‚¬ν• κ²½ν—μΈκ°€?

---

## π€ ν…μ¤νΈ μ‹¤ν–‰ ν”„λ΅μ„Έμ¤

### κ°λ° μ¤‘
1. μ½”λ“ μ‘μ„±
2. λ‹¨μ„ ν…μ¤νΈ μ‘μ„± λ° μ‹¤ν–‰
3. λ΅μ»¬μ—μ„ ν†µν•© ν…μ¤νΈ μ‹¤ν–‰
4. λ²„κ·Έ μμ •
5. λ°λ³µ

### ν”Όμ³ μ™„μ„± μ‹
1. λ¨λ“  ν…μ¤νΈ μ‘μ„± μ™„λ£
2. μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰
3. κ²μ„ν”λ μ΄ ν…μ¤νΈ
4. λ¬Έμ„ μ—…λ°μ΄νΈ
5. λ‹¤μ ν”Όμ³λ΅ μ§„ν–‰



